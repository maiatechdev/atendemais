
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Senha {
  id              String   @id @default(uuid())
  numero          String
  nome            String
  tipo            String
  prioridade      String
  status          String
  guiche          Int?
  atendente       String?
  horaGeracao     DateTime @default(now())
  horaChamada     DateTime?
  horaInicio      DateTime?
  horaFinalizacao DateTime?
  tentativas      Int      @default(0)
  tipoGuiche      String?  @default("Guichê") // Guichê ou Sala
  cpf             String?
  telefone        String?
  bairro          String?
}

model Usuario {
  id               String  @id @default(uuid())
  nome             String
  email            String  @unique
  senha            String? // Senha criptografada ou simples para teste
  isAdmin          Boolean @default(false)
  funcao           String
  guiche           Int?
  tipoGuiche       String? @default("Guichê")
  tiposAtendimento String? // Armazenado como JSON string
}

model Config {
  key   String @id
  value String // Alterado de Int para String para flexibilidade
}

model Servico {
  id    String  @id @default(uuid())
  nome  String  @unique
  ativo Boolean @default(true)
}

model Agendamento {
  id           String   @id @default(uuid())
  nome         String
  cpf          String?
  telefone     String?
  bairro       String?
  dataAgendada String
  horaAgendada String?
  observacoes  String?
  status       String   @default("pendente")
  tipo         String
  prioridade   String
  criadoEm     DateTime @default(now())
}
